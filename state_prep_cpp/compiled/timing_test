
timeout_duration=5

echo "Begin timing tests"

for n in {5..10}
do
  echo "\n"
  for i in {1..8}
  do
    current_date_time=$(date)
    echo "Test aa, n=$n, trial $i, start at $current_date_time"
    timeout $timeout_duration time ./timer_aa_$n.out
    if [ $? -eq 124 ] 
    then
      echo "TIMEOUT"
      break 2
    fi
    sleep 2
  done
done

for n in {5..14}
do
  echo "\n"
  for i in {1..8}
  do
    current_date_time=$(date)
    echo "Test greedy3, n=$n, trial $i, start at $current_date_time"
    timeout $timeout_duration time ./timer_greedy3_$n.out
    if [ $? -eq 124]
    then
      echo "TIMEOUT"
      break 2
    fi
    sleep 2
  done
done

for n in {7..8}
do
  echo "\n"
  for i in {1..8}
  do
    current_date_time=$(date)
    echo "Test search, n=$n, trial $i, start at $current_date_time"
    timeout $timeout_duration time ./timer_search_$n.out
    if [ $? -eq 124]
    then
      echo "TIMEOUT"
      break 2
    fi
    sleep 2
  done
done

for n in {5..14}
do
  echo "\n"
  for i in {1..8}
  do
    current_date_time=$(date)
    echo "Test exact, n=$n, trial $i, start at $current_date_time"
    timeout $timeout_duration python ucg_exact.py $n
    if [ $? -eq 124]
    then 
      echo "TIMEOUT"
      break 2
    fi
    sleep 2
  done
done

echo "Completed timing tests"
